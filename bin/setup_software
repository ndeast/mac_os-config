#! /usr/bin/env bash

# DESCRIPTION
# Sets up and launches (if necessary) installed software.
# Creates symlinks for any Dropbox synced apps

# Get admin privledges
sudo -v

# Open Applications to generate system files

open -a Atom
open -a Brackets
open -a Sublime\ Text


# Fonts
cp -r ~/Dropbox/Fonts/ ~/Library/Fonts

# Powerline Fonts
cd ~/Desktop

git clone https://github.com/powerline/fonts.git

cd fonts
./install.sh

cd ..
rm -rf fonts

Pip install â€”user powerline-status

# Bash
sudo bash -c "printf '/usr/local/bin/bash\n' >> /etc/shells"
rm ~/.bash_profile
ln -s ~/Dropbox/dotfiles/.bash_profile

# Vim
rm -r ~/.vim
rm ~/.vimrc
ln -s ~/Dropbox/dotfiles/.vim ~/.vim
ln -s ~/Dropbox/dotfiles/.vimrc ~/.vimrc

# oh-my-zsh
rm -r "~/.oh-my-zsh"
rm "~/.zshrc"
ln -s "~/Dropbox/dotfiles/.oh-my-zsh" "~/.oh-my-zsh"
ln -s "~/Dropbox/dotfiles/.zshrc" "~/.zshrc"

# Atom
rm -r "~/.atom"
ln -s "~/Dropbox/Apps/Atom" "~/.atom"

# Brackets
rm ~/Library/Application\ Support/Brackets/brackets.json
rm -r ~/Library/Application\ Support/Brackets/extensions/user

ln -s ~/Dropbox/Apps/Brackets/brackets.json ~/Library/Application\ Support/Brackets/brackets.json
ln -s ~/Dropbox/Apps/Brackets/user ~/Library/Application\ Support/Brackets/extensions/user

# Sublime Text 3
sudo ln -s /Applications/Sublime\ Text.app/Contents/SharedSupport/bin/subl /usr/bin/subl
cd ~/Library/Application\ Support/Sublime\ Text\ 3/Packages/
rm -r User
ln -s ~/Dropbox/Sublime/User



